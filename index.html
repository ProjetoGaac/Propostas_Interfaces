<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">


  <title>Dashboard Template for Bootstrap</title>

  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/dashboard.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/vue"></script>
  <script src="https://unpkg.com/vue-router"></script>
</head>

<body>





  <main id="app" role="main" class="col-10 ml-auto px-4">



    <h2>Last Users</h2>
    <a v-if="checkedAmount ===0"href="#" class="btn btn-primary btn-lg">adicionar</a>
    <a v-if="checkedAmount >0" href="#" class="btn btn-primary btn-lg">Excluir</a>
    <a v-if="checkedAmount ==1"href="#" class="btn btn-primary btn-lg">modificar</a>
    <a v-if="admButton ==false" href="#" class="btn btn-primary btn-lg">+ adm geral</a>
    <a v-if="admButton ==true "href="#" class="btn btn-primary btn-lg">- adm geral</a>

    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th>#</th>
          <th>nome</th>
          <th>email</th>
          <th>curso</th>
          <th>adm geral</th>
        </tr>
      </thead>
      <div>
        <tr v-for="i in info" v-model="checkedAmount">
          <td><input type="checkbox" v-model="i.checkbox" ></td>
          <td>{{i.nome}}</td>
          <td>{{i.email}}</td>
          <td>{{i.curso}}</td>
          <td>{{i.is_admGeral}}</td>
        </tr>

      </div>
    </table>

    <div aria-label="Page navigation example">
      <ul class="pagination justify-content-center">
        <li class="page-item">
          <a class="page-link" href="#" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        <li class="page-item active"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item">
          <a class="page-link" href="#" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </div>

    <!-- aqui entra a paginacao -->
  </main>


  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="js/jquery-3.3.1.slim.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>

  <script>
    // create a new Vue instance
    let info = [
      {
        "nome": "carlinhos",
        "email": "carlinho@a.b",
        "curso": "cursoDele",
        "is_admGeral": false
      },
      {
        "nome": "carlinhoa",
        "email": "carlinho@a.b",
        "curso": "cursoDele",
        "is_admGeral": true
      }, {
        "nome": "carlinho",
        "email": "carlinho@a.b",
        "curso": "cursoDele",
        "is_admGeral": true
      }, {
        "nome": "carlinho",
        "email": "carlinho@a.b",
        "curso": "cursoDele",
        "is_admGeral": false
      }, {
        "nome": "carlinho",
        "email": "carlinho@a.b",
        "curso": "cursoDele",
        "is_admGeral": false
      }, {
        "nome": "carlinho",
        "email": "carlinho@a.b",
        "curso": "cursoDele",
        "is_admGeral": true
      }, {
        "nome": "carlinho",
        "email": "carlinho@a.b",
        "curso": "cursoDele",
        "is_admGeral": false
      }
    ]
    var route = new VueRouter({
      mode: 'history',
      routes: []
    });
    var app = new Vue({
      el: '#app',
      // declare the data for the component (An array that houses the results and a query that holds the current search string)
      data: {
        animeResults: [],
        animeQuery: 'arr',
        adsResults: [],
        checkedAmount: 0,
        route: '',
        admButton:'',
        info: info
      },
      mounted() {

      }
      ,
      methods: {
        // make an axios request to the server with the current search query
        getCheckBoxes: function () {
          let count = 0
          let admVal = null
          let isEqual
          info.forEach(i => {

              if (i.checkbox) {
                count++
                 if (admVal!= null) {
                  if (admVal == i.is_admGeral) {
                  } else{
                   admVal = "erro"
                   
                  }
                }else
                admVal = i.is_admGeral

                
                
              }
            
          })
          this.admButton = admVal
          this.checkedAmount = count
          //console.log(this.checkedAmount, this.admButton)
        }
      },
      // declare Vue watchers
      watch: {
        // watch for change in the query string and recall the search method
        info: {
          handler() {
            this.getCheckBoxes()
          },
          deep: true
        },
        adsQuery: function () {
          this.searchAds()
        }
      },   

    })
  </script>
</body>

</html>